# Junior-year-study
Junior year study in SCD
# 计算机图形学

## 题型

一、单选题（10*2分）

二、填空题（9*1分）

三、分析简述题（4*6分）

四、应用题（3*9分）【计算题＋代码】

五、综述题（1*20分）

### 第一章	计算机图形学概述

#### 1、计算机图形的完整绘制流程，特别是从解决的问题出发，计算机怎么解决问题以完成最终的绘制，如相关的坐标系等内容；

- 坐标系统：将<u>几何实体与数据</u>联系在一起的**唯一纽带**就是坐标

  - 模型坐标系（局部坐标系）：当构造**单个对象**的数字模型时，为了方便,可以将其置于一个特定的坐标系下，即模型坐标系或局部坐标系.
  - 世界坐标系：为描述图形场景中所有图形之间的空间关系，将它们置于一个统一的坐标系中，该坐标系被称为世界坐标系。
  - 设备坐标系：要输出**经过处理后**的数字化图形，需要在**输出设备上建立一个坐标系**，称为设备坐标系。

  ![11](D:\计算机图形学\期末复习\11.png)

  计算机显示三维场景过程中的三个空间：三维**景物空间**－－二维**投影**平面－－二维**显示**平面

  说明：在计算机显示三维世界的过程中，需要在**世界坐标系**中给定一个**<u>视见体</u>**，视见体内包含的内容是我们对场景感兴趣的部分。

- 几何实体的表示与建模

获得三维物体在图形设备上真实感图形，首先要做的就是**建立物体的模型**，或者称为物体的计算机描述，它输出几何对象。

- 几何处理

我们把确定场景中的所有可见面；计算场景中可见面的颜色；将**三维几何**描述转换为**二维透视图**，归结为**<u>几何处理</u>**。

（1）变换

（2）消除隐藏线、面

如果被其它的对象遮挡，则图形不能被显示在屏幕上。隐藏面的消除即**去掉**那些**看不到的面**，**留下可见面**。

（3）裁剪

确定了可见面之后需要裁剪操作，是由于显示系统不可能一次看到整个世界。在投影平面上加一个裁剪窗口 ，如果对象的**投影在裁剪窗口之内**，则它会出现在图像上；如果对象的**投影在裁剪窗口之外**，则它要被裁剪掉，就不会出现在图像里。

如果对象的**投影与裁剪窗口相交**，则只在图像中看到窗口内的那部分。 

（4）光照

（5）投影

经过多次变换和裁剪处理后，最后得到的**基本图元**（是指没有被裁剪掉、会出现在图像里面的对象）必须投影成为**二维对象，才能显示在屏幕上**。存在多种投影方法可以使用。

- 光栅化

当完成了投影变换，接下来处理的对象就是**二维对象**。二维对象的图元已经用屏幕坐标系表示了。如要显示上述的投影后的图形元素，必须**利用一个光栅化或扫描转化**过程，把这些图形的**几何信息转换为一组象素值**，放在帧缓存里。

- 显示

一旦确定了对应象素值，把帧缓存里的图形输出到显示屏幕或绘制器上过程可自动完成。

2、图形学的概念、研究内容和应用；图形的概念－－广义图形、计算机图形概念。

（1）图形学的概念：是用来研究如何画出图形的科学，研究这样一些**函数**时如何编写的。

> 这里的一些函数是指：实现画直线、画框、画圆、填充等画图动作

计算机图形学的研究内容：

- 如何在计算机中表示图形
- 如何利用计算机进行图形计算、处理
- 图形的显示

计算机图形学的应用：

- 计算机辅助设计（CAD）与制造（CAM）

> 计算机辅助设计已**广泛应用**于飞机、汽车、船舶的外形设计、超大规模集成电路设计，以及建筑、服装、印染、玩具设计等领域。

- 地理信息系统（GIS）

> 利用地理系统中的图形软件可绘制出地理、地质的以及其他自然现象的高精度勘探、测量图形。

- 科学计算可视化（VS）

> 已成为一种从**海量**的计算数据和测量数据中发掘其蕴含的**自然、物理现象和规律**的新的通用手段。

- 计算机动画和艺术
- 计算机模拟和仿真
- 虚拟现实 (VR)

> 由计算机实时生成一个**虚拟的三维空间**，用户可在其中**自由运动**，随意观察周围的景物，并通过一些特殊的设备与虚拟物体进行**交互操作**。

#### （2）图形学概念：

广义图形概念：凡是能够在人的视觉系统中形成视觉印象的客观对象都称为图形。

计算机图形概念：是指由<u>点、线、面、体</u>等**几何要素**和<u>明暗、灰度（亮度）、色彩</u>等**非几何要素**构成的，从现实世界中**抽象**出来的带有<u>灰度、色彩及形状</u>的图或形。

### 第二章	计算机图形系统及硬件基础

#### 1、计算机图形系统的构成，相关概念，帧缓存的使用,可做简单计算；

（1）计算机图形系统【用来生成、处理和显示图形】构成：

- 图形输入设备
  - 常用的图形输入设备
    - 键盘、鼠标
  - 此外
    - 跟踪球、空间球
      光笔、触摸板、 图形扫描仪
      数字化仪、手写输入板
      语音输入
      数据手套
- 中央处理器
  - 中央处理器完成对图形的**描述、建立、修改**等各种计算，并对图形实现有效的存储。
  - 许多**外设**所增加的**固化**的图形处理功能，可接受更高级的绘图命令，实现图形的缓冲，以及完成大部分**图形函数**的功能，从而大大减轻了CPU的负担。

- 图形输出设备
  - 图形**显示**设备和图形**绘制**设备
    - 图形显示设备: 用于在屏幕上输出图形
      - 基于阴极射线管的监视器
        液晶显示器
        等离子显示器
    - 图形绘制设备: 用于把图形画在纸上，也称**硬拷贝**
      - 打印机、绘图仪

（2）图形系统基本的基本功能

一个计算机图形系统至少应具有**计算、存储、输入、输出、交互**等基本功能。

![21](D:\计算机图形学\期末复习\21.png)

#### 2、三种显示器的基本工作原理及系统组成。

（1）CRT显示器【阴极射线管显示器】

- 显示原理：主要由**阴极、电平控制器（即控制极）、聚焦系统、加速系统、偏转系统和阳极荧光粉涂层**组成，这六部分都在**真空管**内。

![22](D:\计算机图形学\期末复习\22.png)

- 刷新

  - 要保持屏幕上有稳定的图像就必须**不断地发射电子束**。**刷新一次**指电子束**<u>从左到右，从上到下</u>**将荧光屏扫描一次。 

  - 只有刷新频率高到一定值后，图像才能稳定显示。大约达到每秒60帧，即**60Hz**时，人眼才能感觉到屏幕**不闪烁**，要使人眼觉得舒服，一般必须有**85Hz**以上的刷新频率。
    *1）人的视觉系统要用一定的时间才能识别图像元素，每帧图像的**停留时间**长于人眼**观察所需的时间**，则人的视觉残留可以消除画面的闪烁现象。  

    *2）刷新频率高到一定值后，图像才能稳定显示。

- 隔行扫描技术

  - 每一帧分为**两个场**显示，每个场**只包含一半画面**。两个场是**交错**的，一个场包含所有的**奇数扫描行**，另一个场包含所有的**偶数扫描行**，两个场以1/60秒的时间间隔交替显示。
  - 扫描从**奇数场左上角**开始，每一行都是**自左向右**。电子束在横向扫描的同时以一个**较低的速率向下移动**，当扫描线到达屏幕右端时，就将其隐去并迅速返回屏幕左端。这个过程称为**水平回扫**。接着下一奇数行重复这一过程。
  - 当整场扫描完毕时，扫描线正好停在**底部的中央**。接着扫描线迅速回到屏幕顶部中央，这就是奇数场**垂直回扫**。
  - 接着进行偶数场扫描，偶数场扫描结束于屏幕右下角，垂直回归后电子束返回屏幕左上角。

![](D:\计算机图形学\期末复习\23.png)

彩色CRT显示器显示原理

- 颜色模型： 所谓颜色模型就是指某个三维颜色空间中的一个**可见光子集**，它包含某个**颜色域**的所有颜色。
- RGB模型：由**红、绿、蓝三种颜色**组成的原色系统称为RGB模型。它是定义于某个红绿蓝颜色坐标系统中的单位立方体。**坐标原点**代表黑色，**坐标点(1,1,1)**代表白色。坐标轴上的顶点代表三个基色，余下的顶点则代表每一个基色的补色。

![](D:\计算机图形学\期末复习\24.png)

> 注：RGB颜色模型所覆盖的**颜色域**取决于**显示设备荧光点的颜色特性**，是与硬件相关的 

![26](D:\计算机图形学\期末复习\26.png)

![](D:\计算机图形学\期末复习\27.png)

电子枪和对应的荧光点必须在**一条直线**上。为**保证每个电子枪都能击中对应颜色的荧光点**，在电子枪和荧光屏之间放置一个有孔的金属网格（即荫罩）.

荫罩显示器

（2）LCD【液晶显示器】

- 液晶的物理特性

  - 液晶即液态晶体，具有**线状结晶结构**的分子，**加热**可象液体那样流动，**冷却**则成结晶颗粒的固体状态。
  - 液晶可以说是具有**排列性质**的液体，柔软易变形。所以将液晶倒入一个经精良加工的开槽平面，液晶分子会顺着槽排列，所以假如那些槽非常平行，则各分子也是完全平行的。
  - 光线射入液晶物质中，必然会按照液晶分子的排列方式行进，产生了自然的**偏转现像**。 
  - 液晶分子受电场、磁场、温度、应力等外部条件作用时会**重新排列**。如：对于一些散乱的液晶分子，不通电时，排列变的混乱，阻止光线通过；通电时，由于电压作用，分子重新排列，排列变的有秩序，使光线容易通过。

- 液晶的分类

  - 液晶显示器（LCD）依驱动方式分为**静态驱动、单纯矩阵驱动**和**主动矩阵驱动**3种。
    -  单纯驱动分为：扭转式向列型（Twisted Nematic, TN）和超扭转式向列型（Super Twisted Nematic, STN ）
    -  主动矩阵驱动分为：薄膜晶体管液晶显示器（ TFT LCD，Thin film transistor liquid crystal display) 和  二端子二级管型（metal/insulator/metal, MIM）

- 单液晶显示器的原理

  ![](D:\计算机图形学\期末复习\25.png)

  - 玻璃板：在液晶显示器中，液晶是灌入两个列有细槽的平面之间，也就是两片涂有**配向膜**（PI，polyimide聚酰亚胺）的玻璃板，用来夹住液晶，液晶分子顺着开槽均匀排列。

  - 偏光板： 一系列逐步变细的平行线，或称栅栏，用来**阻隔掉不与栅**
    **栏平行**的光线。

    - 偏光板的工作原理：**液晶显示器依靠极化滤光片(偏光板)影响光线穿过液晶。**自然光线是朝所有方向随机发散的。只有两个滤光器的线**完全平行**，或者通过第一个极化滤光器的光线本身已**扭转**到与第二个极化滤光器相匹配，光线才得以穿过第二个极化滤光器。

    ![](D:\计算机图形学\期末复习\28.png)

  - 电极

    - 若为液晶**加一个电压**，液晶分子又会**重新排列并完全平行**，使光线不再扭转，将被第二个滤光器挡住。总之，**加电**光线将**被阻断**，**不加电**光线将**射出**，显示黑色。
    - 玻璃板和液晶材料之间是**透明电极**，电极分为行电极和列电极，在行和列的交叉点上，通过**改变电压**而改变液晶的旋光状态，从而改变屏幕上相应像素的亮度。

  ![](D:\计算机图形学\期末复习\29.png)

  > 当然，也可以改变LCD中的液晶排列，使光线在加电时射出，不加电压时被阻断。由于计算机屏幕几乎都是亮着的，所以只有“加电将光线阻断”的方案才最省电。

  ![](D:\计算机图形学\期末复习\210.png)

  - 背光板
    - 由荧光物质组成，可以发射光线，提供一个高亮度，且亮度分布均匀的光源。由显示屏两边作为光源的灯管，反射板，导光板等等组成。

- 像素点亮过程

  - 背光板发出的光线穿过第一层偏光板后进入液晶层。液晶层中的水晶液滴都被包含在细小的单元格结构中，**一个或多个单元格构成屏幕上的一个像素**。通过电极上电压的改变，改变液晶的扭转状态，相应改变光线的行进方向，从而决定相应像素的亮度。液晶材料在这里作用类似一个小的光阀。 

![](D:\计算机图形学\期末复习\211.png)

- 彩色液晶显示器
  - 彩色LCD要具备专门处理彩色显示的**色彩过滤层**。
  - 彩色LCD面板中的每一个像素由**3个液晶单元格构成**，其中每一个单元格前面都分别有红色、绿色或蓝色的过滤片，**通常过滤片上含配向膜**。这样，通过不同单元格的光线可在屏幕上显示出不同的颜色。

![](D:\计算机图形学\期末复习\212.png)

![](D:\计算机图形学\期末复习\213.png)

（3）PDP【等离子显示器】

- 等离子显示器的工作原理

  - 等离子显示器由密封在玻璃膜夹层中的**晶格矩阵**（光栅）组成，每个晶格充有**低压气体**。
  - 在高电压作用下，**气体会电离解**。电离解后的气体称为**等离子体**，所以这种显示器称为等离子显示器。
  - 当电子又重新与原子结合在一起时，**能量就会以光子的形式释放出来**，这时气体就会释放出具有特征的辉光。

- 工作过程

  - 要点亮某个地址的气泡，开始要在相应行上**加较高的电压**，气泡点亮后，可用**低电压维持**气泡的**亮度**。关掉某个气泡，只要将相应的电压降低。**改变控制电压**，可使等离子板显示不同灰度的图形。

- PDP成像过程

  ![](D:\计算机图形学\期末复习\214.png)

  - 利用惰性气体放电产生**紫外线**来激发彩色荧光粉发光，再转换成人眼可见的光。采用等离子管作为发光元件，大量的等离子管排列在一起构成屏幕，**每个等离子管作为一个像素**，每个像素由三种不同颜色的发光体组成。每个等离子管对应的每个小室内都充有氖氙气体。在等离子管电极间加上高压后，封在两层玻璃之间的等离子管小室中的气体会**产生紫外光**，并激励平板显示屏上的红绿蓝**三基色荧光粉**发出可见光。由这些像素的明暗和颜色变化组合使之产生各种灰度和色彩的图像。

### 第三章	基本光栅图形算法

1、直线生成算法－－DDA算法和Bresenham算法的基本原理与程序伪代码或代码实现；

（1）DDA算法

- 基本原理
  - 舍入法求解最佳逼近；利用**微分思想**，即每一个点坐标都可以由前一个坐标变化一个增量得到。

```java
//DDA算法（基本增量算法）
    void dda(Graphics g, int x1, int x2, int y1, int y2)
{ 
    int k; //应该走几步
    float x, y, dx, dy; //当前精确位置、每步的增量
    k = Math.abs(x2-x1);//返回参数的绝对值
    if (Math.abs(y2-y1)>k)   k = Math.abs(y2-y1); 
    dx = (float)(x2-x1)/k; dy = (float)(y2-y1)/k; 
    x = (float)x1; y = (float)y1; 
    for (int i = 0; i <k ; i++ )
    {  
       g.drawLine((int)(x+.5f), (int)(y+.5f), (int)(x+.5f), (int)(y+.5f));//完成四舍五入
       x = x+dx;    y = y+dy;
    }
}
```

（2）Bresenham算法

- 基本原理
  - 选择的原则是看精确值y与yi及yi+1的距离d1及d2的大小而定。 

```java
//Bresenham算法
m=(double)dy/(double)dx;
e = m–0.5；
for(i=0;i<dx;i++)  {
    g.drawLine(x,y,x,y);
    if(e>=0){
    y=y+1；   e=e–1;
    }
   x=x+1；e=e+m;
} //其中dy=ye–ys，dx=xe–xs。 
```



2、圆弧生成算法－－正负法、Bresenham算法以及多边形迫近法的原理与程序伪代码或代码实现；

（1）正负法【还没写】

- 基本原理
  -   假设已选取Pi-1为第i-1个像素则如果Pi-1在圆内，就要向圆外方向走一步；若已在圆外就要向圆内走一步【尽量贴近圆的轮廓线】

```java

```

（2）Bresenham算法

- 基本原理
  - 考虑AB弧段，x每步增加1，从
        x=0开始，到x=y结束。
    **即有：**
        x_ {i+1}=x_i+1  相应的y_ {i+1}则在两种可能中选择 y_ {i+1}=yi (H_i点)或者 y_{i+1}=y_i-1(L_i点)
    **所以：**
       选择的原则是确定这两个点**哪一个更接近于圆弧**。

```java
//Bresenham
void bresenham_arc(Graphics g,int radius)
   {   int x,y,d;
        x = 0;   y = radius;   d = 3-2*radius;
        while (x < y) {
	   g.drawLine(x, y, x, y);
	   if (d<0)  d=d+4*x+6;
	   else  { d=d+4*(x-y)+10;  y--;  }
               x++;
         }
         if (x == y) g.drawLine(x,y,x,y);
    }

```

> Bresenhem算法和正负法比较：
>
> Bresenham算法在候选的两个像素中，**总是选定**离圆弧最近的像素为圆弧的一个近似点，因此，Bresenham算法比正负法决定的像素更合理。

3、多边形的填充－－多边形的两种表示方法、多边形扫描转换的定义，多边形填充的扫描线算法的基本思想或实现步骤（包括用到的一些性质如扫描线连续性、边的连续性、极值点、非极值点等）；

（1）两种表示方法：顶点表示和点阵表示

（2）多边形扫描转换定义：就是把**多边形的顶点**表示转换为**点阵**表示，即从多边形的给定边界出发，求出位于其内部的各个像素，并将**帧缓冲器**内的各个对应元素设置相应的灰度或颜色。实际上就是多边形内的区域的着色过程。

（3）多边形填充的扫描线算法

- 基本思想
  - 充分利用了相邻像素之间的**连续性**，避免对像素的**逐点判断**和**反复求交**运算，减少了计算量，提高了算法速度。

- 实现步骤
  - 计算扫描线与多边形各边的**交点**，设交点个数为n； 
  - 把所有的交点按x值递增的顺序进行**排列**；
  - 将排序后的第1个与第2个交点，第3个与第4个交点，……第n-1个与第n个交点**配对**，每对交点就代表扫描线与多边形的一个**相交区间**； 
  - 把相交区间内的像素置成多边形的**颜色**，相交区间外的像素置成**背景色**。
- 基本概念
  - 扫描线的连续性：扫描线即**电子枪**由左向右扫过的一行，或用坐标的观点来说即y=i 这样的一条线。
  - 边的连续性
  - 奇点：扫描线与多边形P的交点是P的**顶点**，该交点称为奇点。
  - 

4、区域填充－－区域两种表示方法、连通性等相关概念，掌握种子填充算法（简单种子填充方法和扫描线种子填充算法）原理和实现步骤。



### 第四章	变换和裁剪

1、几何变换－－平移变换、放大缩小变换、旋转变换，可进行简单计算；
2、裁剪－－Sutherland-Cohen算法（包括编码原则）、Sutherland-Hodgman和Cyrus-Beck算法的基本思想、步骤。

### 第五章	三维空间的观察

1、投影－－两种投影变换即透视和平行投影的概念及公式（基本的，即投影面为z＝0时的投影公式）。

### 第六章	人机交互绘图技术

1、基本的交互任务有哪些；
2、人机交互输入模式有哪些。

### 第七章	可见面的判定

1、可见面判断的有效技术－－边界盒、后向面的概念及判定准则；
2、基于窗口的细分算法、基于多边形的细分算法的基本思想；
3、z缓冲器及其扫描线算法基本步骤。

### 第八章	光照明模型

1、光源、材质、几种颜色模型等概念；

（1）光源

所有可以发出**辐射光能**的物体统称为光源。

> 通常在一个不透明且不发光的物体表面所观察到的光线是其反射光，它由**光源与其他物体表面**的反射光所共同产生

（2）材质

物体所呈现出的**颜色**在**很大程度上取决于**物体表面的**材质**。

如果光线被投射至一个**不透明的物体**表面，则部分光线被**反射**，部分被**吸收**。

同样对于一个**半透明物体**的表面，部分入射光会被**反射**，而另一部分则被**折射**。

（3）颜色模型

- RGB模型
- CMY模型
- YIQ模型
- HSV模型
- XYZ颜色模型和CIE色度图
- 颜色模型的相互转换
  - RGB模型和CMY模型
  - YIQ模型和RGB模型

2、光照明模型（数学表达式、三个分量即环境光、漫反射和镜面反射的表示方法及表示式中各变量的含义）。

光照明模型数学表达式：
$$
I=I_环+I_漫+I_镜
$$

- 环境反射光：

$$
I_e=k_a+I_{pa}\\
I_e为物体的环境光反射亮度\\
I_{pa}为环境光亮度\\
k_a为物体表面的环境光反射系数(0≤k_a≤1)
$$

> 表明当光射向物体表面时，物体表面向各个方向漫反射该光线的能力。 

- 漫反射光（朗伯余弦定律）

对于一个漫反射体，表面的**反射光亮度**和**光源入射角**（入射光线和表面法向量的夹角）的余弦成正比，即

![](D:\计算机图形学\期末复习\81.png)
$$
I_d=k_dI_{pd}cos \, i\\
I_d为物体表面漫反射光的光亮度\\
I_{pd}为光源垂直入射时的光亮度,i为光源入射角\\
k_d为漫射系数，决定于表面材料及入射光的波长(0≤k_d≤1)
$$

- 镜面反射光

采用**余弦函数的幂次**来模拟一般光滑表面的镜面反射光的空间分布。

![](D:\计算机图形学\期末复习\82.png)
$$
I_s=k_sI_{ps}cos^{n}\theta\\
I_s为观察者接受到的镜面反射光亮度\\
I_{ps}为入射光的光亮度\\
k_s为镜面反射系数(与材料性质和入射光波长有关)\\
n为镜面反射光的会聚指数(与物体表面光滑度有关)\\
θ为镜面反射方向和视线方向的夹角，介于0^o到90^o之间
$$
